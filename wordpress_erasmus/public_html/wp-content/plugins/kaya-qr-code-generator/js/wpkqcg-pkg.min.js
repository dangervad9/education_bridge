function wpkqcg_qrcode_encode(e){var t,r=e[0],o=e[1],l=e[2],n=e[3],c=e[4],a=e[5],d=e[6];""===a?a="#000000":"#"!==a.charAt(0)&&(a="#"+a),""===d?d="#FFFFFF":"#"!==d.charAt(0)&&(d="#"+d),""===c&&(c="4");var g={};if(""===n)g={ecclevel:l,margin:c,customcolor:a,custombgcolor:d},t=QRCode.generatePNG(o,g);else{var i=QRCode.generate(o,{ecclevel:l}).length+8,v=1;n>i&&(v=Math.round(n/i)),g={ecclevel:l,modulesize:v,margin:c,customcolor:a,custombgcolor:d},t=QRCode.generatePNG(o,g)}return document.getElementById(r).src=t,!1}function wpkqcg_qrcode_display(){var e=document.getElementsByClassName("wpkqcg_qrcode");if(0!==e.length)for(var t=0;t<e.length;++t){var r=e[t],o=document.getElementById(r.id+"_ecclevel"),l=document.getElementById(r.id+"_size"),n=document.getElementById(r.id+"_border"),c=document.getElementById(r.id+"_color"),a=document.getElementById(r.id+"_bgcolor"),d=document.getElementById(r.id+"_content");wpkqcg_qrcode_encode([r.id,d.value,o.value,l.value,n.value,c.value,a.value])}}function wpkqcg_qrcode_download(e){var t=document.getElementById("wpkqcg_qrcode_outputimg_"+e);if(t){var r=wpkqcg_qrcode_convertB64toBlob(t.src.replace("data:image/png;base64,",""),"image/png"),o="kaya-qr-code-"+e+".png";if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,o);else{var l=URL.createObjectURL(r),n=document.createElement("a");n.style.display="none",n.setAttribute("href",l),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("download",o),document.body.appendChild(n),n.click(),document.body.removeChild(n),n=null}}}function wpkqcg_qrcode_convertB64toBlob(e,t,r){t=t||"",r=r||512;for(var o=atob(e),l=[],n=0;n<o.length;n+=r){for(var c=o.slice(n,n+r),a=Array(c.length),d=0;d<c.length;d++)a[d]=c.charCodeAt(d);var g=new Uint8Array(a);l.push(g)}return new Blob(l,{type:t})}